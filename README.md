# 加密货币钱包助记词生成工具

这是一个安全的加密货币钱包助记词生成工具，遵循BIP-39标准，使用多源熵生成高质量随机数，并提供多种安全特性。

## 隐私与安全声明

**重要声明：本程序不会上传、保存或记录任何生成的助记词或私钥信息。**

- 所有操作均在本地设备上完成，不涉及任何网络传输
- 不会将助记词、种子或私钥保存到磁盘或云端
- 不会收集任何用户数据或使用情况统计信息
- 程序代码完全开源，可供审计和验证

## 项目概述

本项目提供了两个版本的钱包助记词生成工具：

1. **基础版本** (`crypto_wallet_generator.py`) - 基本的BIP-39助记词生成功能（建议只生成一次性钱包使用）
2. **高安全标准版本** (`crypto_wallet_secure_optimized.py`) - 提供多源熵、内存安全处理、SLIP-39分割备份等高级安全特性

## 快速启动

为了方便不同平台的用户使用，我们提供了针对Windows和Mac的专用启动脚本，即使是小白用户也可以轻松使用：

### Windows用户

直接双击运行 `run_wallet_generator_windows.bat` 文件即可启动程序。

### Mac用户

直接双击运行 `run_wallet_generator_mac.command` 文件即可启动程序。

如果首次运行提示没有权限，请在终端中执行以下命令：
```bash
chmod +x run_wallet_generator_mac.command
```

### Linux用户

使用以下命令运行启动脚本：
```bash
chmod +x run_wallet_generator.sh
./run_wallet_generator.sh
```

### 功能说明

所有平台的启动脚本都提供以下功能：

1. 自动检查Python环境和依赖库
2. 提供简单的菜单系统，可以选择：
   - 基础版本 - 简单的命令行工具（建议只生成一次性钱包使用）
   - 高安全标准版本 - 提供高级安全特性
   - 安装依赖 - 安装运行工具所需的依赖库

启动脚本会自动检查环境和依赖，并提供友好的用户界面，非常适合不熟悉命令行的用户。

## 安全特性

- **多源熵收集**：结合操作系统CSPRNG、硬件随机源、计算熵和用户输入
- **内存安全处理**：敏感数据使用后立即从内存中安全清除
- **Unicode规范化**：严格遵循BIP-39标准的NFKD规范化
- **SLIP-39分割备份**：支持Shamir秘密共享方案，防止单点故障
- **全面安全提示**：提供详细的安全建议和用户教育
- **系统安全检查**：检测运行环境的安全状态
- **离线使用支持**：推荐并支持在离线环境中使用
- **密码强度检查**：评估密码短语的强度并提供改进建议
- **钱包地址生成**：从助记词生成常见加密货币的钱包地址
- **配置文件支持**：允许用户自定义设置和偏好
- **备份提醒机制**：定期提醒用户验证备份，确保资产安全

## 安装

1. 确保已安装Python 3.7+
2. 安装依赖库：

```bash
# 基础版本
pip install -r requirements.txt

# 高安全标准版本（包含SLIP-39支持）
pip install -r requirements_secure.txt

# 安装额外功能的依赖（钱包地址生成等）
pip install hdwallet base58 bech32 ecdsa
```

## 使用方法

### 基础版本

```bash
python crypto_wallet_generator.py generate  # 生成助记词
python crypto_wallet_generator.py verify "your mnemonic words here"  # 验证助记词
```

### 高安全标准版本

```bash
python crypto_wallet_secure_optimized.py
```

通过交互式菜单选择功能：
1. 生成新的钱包助记词
2. 验证助记词是否有效
3. 生成SLIP-39分割备份
4. 恢复SLIP-39分割备份
5. 检查系统安全状态

## 安全建议

### 生成助记词

- 在离线环境中生成重要钱包的助记词
- 使用24个词(256位熵)获得最高安全性
- 确保环境无摄像头、无屏幕录制、无恶意软件

### 保存助记词

- 永远不要将助记词存储在数字设备上（电脑、手机、云端）
- 将助记词写在纸上或金属板上（防火、防水）
- 存放在安全的物理位置，如保险箱
- 考虑使用SLIP-39分割备份，分散存储在不同安全位置

### 关于密码短语（第25个词）

BIP-39标准允许使用可选的密码短语（passphrase），也被称为"第25个词"，它具有以下特点：

1. **工作原理**：
   - 密码短语与助记词一起用于生成种子
   - 相同的助记词配合不同的密码短语会生成完全不同的钱包
   - 它不是助记词的一部分，而是一个额外的安全层

2. **安全优势**：
   - 即使攻击者获得了您的助记词，没有密码短语也无法访问您的资产
   - 可以创建"诱饵钱包"（使用同一助记词但不同密码短语）
   - 增加了暴力破解的难度

3. **风险与注意事项**：
   - 如果忘记密码短语，即使有助记词也**无法恢复**您的资产
   - 没有"找回密码"或"重置"功能
   - 密码短语区分大小写，包括空格和特殊字符

4. **使用建议**：
   - 对于普通用户：如果不确定是否能安全记住，建议**不使用**密码短语
   - 对于高价值钱包：考虑使用密码短语，但必须有可靠的保存方式
   - 密码短语应与助记词分开存储，使用不同的安全方法
   - 考虑使用密码管理器或其他安全工具保存密码短语

5. **最佳实践**：
   - 使用足够强度的密码短语（如果决定使用）
   - 定期测试恢复过程，确保能正确输入密码短语
   - 考虑告知受信任的家人或律师如何在紧急情况下访问您的密码短语

## 技术细节

### BIP-39实现

该工具严格遵循BIP-39标准：
- 使用128-256位熵生成12-24个助记词
- 计算SHA-256校验和并添加到熵中
- 将熵分割为11位段并映射到词表
- 使用PBKDF2-HMAC-SHA512(2048次迭代)生成种子

### 熵收集

工具从多个来源收集熵：
- 操作系统CSPRNG (os.urandom)
- Python的secrets模块
- 硬件随机源（如果可用）
- 计算熵（RSA密钥生成）
- 用户输入熵（可选）

### 数据处理与内存安全

本工具采用多种技术确保敏感数据的安全处理：

1. **零存储原则**：
   - 助记词和种子仅在内存中临时存在，不会写入磁盘
   - 不创建任何日志文件或临时文件
   - 不使用任何远程服务或API

2. **内存安全清除**：
   - 使用安全的内存覆写技术，而非简单的变量赋值
   - 敏感数据使用后立即调用专用函数进行内存清除
   - 对Python字符串、字节数组和列表等数据结构进行特殊处理

3. **内存清除实现原理**：
   - 对于字符串和字节类型：先覆写为随机数据，再覆写为零值
   - 对于列表类型：递归清除每个元素，然后清空列表
   - 强制调用Python垃圾回收器确保内存立即释放
   - 使用ctypes直接操作内存，确保彻底清除

4. **程序退出时的安全措施**：
   - 捕获所有可能的退出信号（包括正常退出和异常退出）
   - 在退出前执行全面的内存清理操作
   - 使用信号处理器确保即使在意外终止时也能清理内存

## 贡献

欢迎提交问题和拉取请求。在提交拉取请求之前，请确保您的代码符合项目的安全标准。

## 许可证

本项目采用MIT许可证 - 详见 [LICENSE](LICENSE) 文件。

## 免责声明

本工具仅供教育和研究目的使用。用户应自行承担使用风险，作者不对因使用本工具而导致的任何损失负责。在生产环境中使用前，建议进行独立的安全审计。